apiVersion: shulkermc.io/v1alpha1
kind: MinecraftCluster
metadata:
  name: testmc
spec:
  shortName: testmc

---
apiVersion: shulkermc.io/v1alpha1
kind: MinecraftServer
metadata:
  name: test
spec:
  minecraftClusterRef:
    name: testmc
  version:
    channel: Spigot
    name: 1.18.1
  operators:
    - IamBlueSlime
  whitelistedPlayers:
    - IamBlueSlime
  world:
    url: https://i.jeremylvln.fr/shulker/hub.tar.gz
    disableNether: true
    disableEnd: true
  rcon:
    enabled: true
  service:
    enabled: false
    type: ClusterIP
  affinity:
    nodeAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        - weight: 10
          preference:
            matchExpressions:
              - key: cloud.google.com/gke-preemptible
                operator: In
                values:
                  - 'true'
